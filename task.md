# Тестовое задание для пресейла Ansible + Vagrant

## Описание.
Итак, задача для пресейла на знание IT-инфраструктуры, умение использования открытых источников
информации для решения прикладных задач:

<div align="left"> Предполагается, что тест выполняется кандидатом в домашних условиях в виртуальной среде (Вкачестве гипервизора использовать Virtualbox) в течении 2ух недель. Понимается что необходимое окружение уже установлено (Ansible + Vagrant) и добавлять в репозиторийскрипты которые для выполнения требуют права супер пользователя и вносят изменения в хостовуюоперационную систему добавлять НЕ нужно. Лучшая практика - это указать требования к окружению в файле Readme. md.  Большим плюсом будетхорошо оформленный Readme. md который отвечает на простые вопросы: Что это, для чего это, какэтим пользоваться, какие требования. Если какие-то пункты не выполняются, это не означает что тест провален - оцениваться будет общеепонимание того, что ты, дорогой кандидат, делаешь. Обязательно зарегистрироваться на Github и разместить там свой репозиторий.  Проверка тестаосуществляется в конференции Zoom с демонстрацией экрана. </div>

***
### Задание 1. Vagrant

* При помощи Vagrant развернуть три ВМ, на базе любой удобной тебе ОС.
* Выделить каждой ВМ1 (4 ГБ ОЗУ, 3vCPU), ВМ2 (3 ГБ ОЗУ, 2vCPU), ВМ3 (2 ГБ ОЗУ, 2vCPU).
* Осуществить проброс 80 порта: у ВМ1 на 8080, у ВМ2 на 8081, ВМ3 на 8082.
* Provision будет осуществляться при помощи Ansible.

P.S. Если этот пункт кажется тебе сложным, то демонстрировать придется на ВМ развернутых тобой
вручную, что дольше. (И кстати Vagrant мы используем на регулярной основе).
***
### Задание 2. Ansible

#### ВМ1.
* Установлен домен FreeIPA "test.local".
* В домене FreeIPA должны быть пользователи user1 и user2.
* Web-интерфейс FreeIPA должен быть доступен с хостовой машины в браузере по порту 8080
#### ВМ2.
* Введена в качестве клиента в ВМ1.
* Должен быть установлен сервис Foreman.
* Web-интерфейс Foreman должен быть доступен с хостовой машины в браузере по порту 8081

P.S. Можно использовать playbook который установит и настроит FreeIPA и Foreman. Но лучше
использовать роль, например из ansible-galaxy. То же касается и Foreman.
P.P.S. Самопальный playbook или role тоже подойдёт.......
***
### Задание 3. Docker
#### ВМ3
* Dockerfile который создает Zabbix.
* 80 порт из контейнера zabbix проброшен на 80 порт ВМ3.
* Web-интерфейс Foreman должен быть доступен с хостовой машины браузере по порту 8082
****
## Критерии выполнения задания:
 - Есть публичный/частный git репозиторий который можно скачать.

### Задание 1.
* При выполнении команды vagrant up появляются в три ВМ с указанными в задании параметрами
(Т.е. в репозитории есть Vagrantfile).

### Задание 2.
* Из браузера хостовой машины можно получить доступ к web оболочкам соответствующих сервисов по соответствующим портам.
* Неважно откуда и как, но можно получить доступ к web оболочкам соответствующих сервисов.
  * Даже если они развернуты не ansible role
  * Даже если они уже содержаться в vagrant box
  * Даже если они в виде контейнеров
  * Даже если они где-то развернуты руками...

### Задание 3.
* Есть Dockerfile с сервисом zabbix
  * Есть кастомный Dockerfile который содержит в себе сервис Zabbix.
  * Есть кастомный Dockerfile который запускается.
  * Есть Docker контейнер который содержит в себе сервис Zabbix (например из Dockerhub).
* Из браузера хостовой машины можно получить доступ к web оболочке zabbix.
* Неважно откуда и как но можно получить доступ к web оболочке zabbix.
Критерии выполнения понимать как - "если не получается верхнее условие, то идем на более простое
ниже".
***
## Послесловие
Искренне надеемся, что задание покажется интересным и занимательным. Оно затрагивает стэк
технологий, который мы используем при разворачивании наших продуктов.
***
